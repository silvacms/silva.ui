(function($){function isHashChangeEventSupported(){return"onhashchange"in window}function nativeVersion(){locationHash=document.location.hash,window.onhashchange=onhashchangeHandler}function onhashchangeHandler(){var oldHash=locationHash;locationHash=document.location.hash,$(window).trigger("jQuery.hashchange",{before:oldHash,after:locationHash})}function setIntervalVersion(opts){null==locationHash&&(locationHash=document.location.hash),null!=functionStore&&clearInterval(functionStore),interval!=opts.interval&&(functionStore=setInterval(checkLocationHash,opts.interval),interval=opts.interval)}function checkLocationHash(){if(locationHash!=document.location.hash){var oldHash=locationHash;locationHash=document.location.hash,$(window).trigger("jQuery.hashchange",{before:oldHash,after:locationHash})}}$.fn.hashchange=function(fn){return $(window).bind("jQuery.hashchange",fn),this},$.observeHashChange=function(options){var opts=$.extend({},$.observeHashChange.defaults,options);isHashChangeEventSupported()?nativeVersion():setIntervalVersion(opts)};var locationHash=null,functionStore=null,interval=0;$.observeHashChange.defaults={interval:500},$.observeHashChange()})(jQuery);