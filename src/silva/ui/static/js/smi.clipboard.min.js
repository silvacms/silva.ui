(function($,infrae){var ClipBoardManager=function(notifications){var cutted_ids=[],copied_ids=[],clear=function(){api.cutted=[],cutted_ids=[],api.copied=[],copied_ids=[]},api={cutted:[],copied:[],clear:function(no_notification){clear(),$("body").trigger("contentchange-smiclipboard"),no_notification||notifications.notify({message:"Clipboard cleared.",autoclose:4e3})},cut:function(items,no_notification){var count=0;if(clear(),$.each(items,function(i,item){0>$.inArray(item.id,cutted_ids)&&(cutted_ids.push(item.id),api.cutted.push(item),count+=1)}),$("body").trigger("contentchange-smiclipboard"),!no_notification){var message={message:"Cut "+(""+count)+" item(s) in the clipboard.",autoclose:4e3};count||(message.category="error"),notifications.notify(message)}},copy:function(items,no_notification){var count=0;if(clear(),$.each(items,function(i,item){0>$.inArray(item.id,copied_ids)&&(copied_ids.push(item.id),api.copied.push(item),count+=1)}),$("body").trigger("contentchange-smiclipboard"),!no_notification){var message={message:"Copied "+(""+count)+" item(s) in the clipboard.",autoclose:4e3};count||(message.category="error"),notifications.notify(message)}},length:function(){return api.cutted.length+api.copied.length}};return api};infrae.smi.ClipBoardManager=ClipBoardManager})(jQuery,infrae);