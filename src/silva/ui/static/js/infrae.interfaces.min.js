(function(infrae,$){var module={},interfaces={};$.extend(module,{clear:function(){interfaces={}},register:function(name,bases){if(interfaces[name])throw{message:"Duplicate registration of interface "+name};bases||(bases=[]),interfaces[name]=bases},implemented_by:function(object){if(void 0===object)return[];if(void 0===object.ifaces)return[typeof object];for(var result=[],bases=[].concat(object.ifaces);bases.length;){var base=bases.shift();if(0>$.inArray(base,result)){result.push(base);var base_bases=interfaces[base];base_bases&&(bases=bases.concat(base_bases))}}return result.push(typeof object),result},is_implemented_by:function(base,object){return $.inArray(base,module.implemented_by(object))>-1}}),infrae.interfaces=module})(infrae,jQuery);